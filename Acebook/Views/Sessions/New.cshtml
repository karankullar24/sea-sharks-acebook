@model Acebook.ViewModels.SignInViewModel
<!-- Makes it so when auto filled it defaults to white rather than highlighting blue -->
<style>
  input:-webkit-autofill {
    box-shadow: 0 0 0px 1000px white inset !important;
    -webkit-box-shadow: 0 0 0px 1000px white inset !important;
  }
</style>
<!-- Logo -->
<div class="min-h-screen flex flex-col items-center justify-start p-4">
  <img src="images/light_grey.png" alt="SeaShark Logo" class="h-24 w-24" />

  <!-- Welcome to seashark/sign text  -->

  <h1 id="greeting" class="text-3xl font-bold text-teal-600 text-center">Welcome To Sea Shark!</h1>
  <h2 class="text-xl font-semibold text-teal-600 text-center mb-6">Sign In</h2>

  <!-- Form container -->

  <div class="bg-white rounded-lg p-6 shadow-md w-full max-w-md">

    <form asp-action="Create" asp-controller="Sessions" method="post" class="flex flex-col space-y-4" novalidate>

      <!-- Display Model Errors --> 
      <div asp-validation-summary="ModelOnly" class="text-teal-600 mb-2"></div>

      <!-- Email  -->
      <div>
        <label for="email" class="mb-1 block text-sm text-gray-700">Email</label>
        <input asp-for="Email" id="email" class="w-full border border-gray-400 rounded-lg p-2" placeholder="email" />
        @if (ViewData.ModelState.TryGetValue(nameof(Model.Email), out var emailState) && emailState.Errors.Any())
        {
            <div class="text-red-600 text-sm font-bold mt-1">@emailState.Errors.First().ErrorMessage</div>
        }
      </div>

      <!-- Password  -->
      <div>
        <label for="password" class="mb-1 block text-sm text-gray-700">Password</label>
        <input asp-for="Password" id="password" class="w-full border border-gray-400 rounded-lg p-2"
          placeholder="password" />
        @if (ViewData.ModelState.TryGetValue(nameof(Model.Password), out var passState) && passState.Errors.Any())
        {
            <div class="text-red-600 text-sm font-bold mt-1">@passState.Errors.First().ErrorMessage</div>
        }
      </div>

      <!-- Show Password Checkbox -->
      <div class="flex items-center mt-2">
        <input id="Show-Password" class="h-4 w-4" type="checkbox" onclick="myFunction()">
        <label for="Show-Password" class="ml-2 text-md text-gray-700">Show Password</label>
      </div>

      <!-- Submit Button -->
      <div class="flex justify-center">
        <button type="submit" id="submit"
          class="bg-teal-600 text-white text-sm font-medium w-48 px-4 py-2 rounded-md hover:bg-teal-400">Sign
          In</button>
      </div>

      @if (!ViewData.ModelState.IsValid) // move this to be under the box
      {
        var error = ViewData.ModelState[string.Empty]?.Errors.FirstOrDefault()?.ErrorMessage;
        if (!string.IsNullOrEmpty(error))
        {
          <div data-testid="error" class="text-teal-600 mt-2">@error</div>
        }
      }

    </form>

    <div class="text-center mt-4">
      <a class="text-teal-600 hover:underline" href="/signup" id="signup">Not a user? Sign up here!</a>
    </div>

    <script>
      function myFunction() {
        var x = document.getElementById("password");
        x.type = x.type === "password" ? "text" : "password";
      }
    </script>
  </div>
</div>